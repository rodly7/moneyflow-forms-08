
/* PWA Mobile Optimizations - Enhanced for larger UI */

/* Variables CSS pour les safe areas */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

/* Optimisations PWA générales */
.pwa-optimized {
  /* Empêcher le zoom et les gestes indésirables */
  touch-action: manipulation;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  
  /* Support des safe areas */
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* Boutons optimisés pour le tactile - tailles augmentées */
.pwa-button {
  min-height: 48px; /* Augmenté de 44px à 48px */
  min-width: 48px;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Inputs optimisés */
.pwa-input {
  font-size: 16px; /* Empêche le zoom sur iOS */
  -webkit-appearance: none;
  border-radius: 0; /* Reset iOS styling */
}

/* Scroll optimisé */
.pwa-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  scroll-behavior: smooth;
}

/* Animations réduites si demandé */
@media (prefers-reduced-motion: reduce) {
  .pwa-optimized * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Optimisations pour différentes tailles d'écran - tailles augmentées */
@media screen and (max-width: 320px) {
  .pwa-text-xs { font-size: 12px; }
  .pwa-text-sm { font-size: 14px; }
  .pwa-text-base { font-size: 16px; }
  .pwa-text-lg { font-size: 18px; }
  .pwa-text-xl { font-size: 20px; }
}

@media screen and (min-width: 321px) and (max-width: 375px) {
  .pwa-text-xs { font-size: 13px; }
  .pwa-text-sm { font-size: 15px; }
  .pwa-text-base { font-size: 17px; }
  .pwa-text-lg { font-size: 19px; }
  .pwa-text-xl { font-size: 21px; }
}

@media screen and (min-width: 376px) and (max-width: 414px) {
  .pwa-text-xs { font-size: 14px; }
  .pwa-text-sm { font-size: 16px; }
  .pwa-text-base { font-size: 18px; }
  .pwa-text-lg { font-size: 20px; }
  .pwa-text-xl { font-size: 22px; }
}

@media screen and (min-width: 415px) {
  .pwa-text-xs { font-size: 14px; }
  .pwa-text-sm { font-size: 16px; }
  .pwa-text-base { font-size: 18px; }
  .pwa-text-lg { font-size: 20px; }
  .pwa-text-xl { font-size: 22px; }
}

/* Grilles responsives - espacement augmenté */
.pwa-grid-adaptive {
  display: grid;
  gap: 1.25rem; /* Augmenté de 1rem à 1.25rem */
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); /* Augmenté de 140px à 160px */
}

@media screen and (max-width: 400px) {
  .pwa-grid-adaptive {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem; /* Augmenté de 0.75rem à 1rem */
  }
}

@media screen and (min-width: 401px) and (max-width: 600px) {
  .pwa-grid-adaptive {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem; /* Augmenté de 1rem à 1.25rem */
  }
}

@media screen and (min-width: 601px) {
  .pwa-grid-adaptive {
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem; /* Augmenté de 1.25rem à 1.5rem */
  }
}

/* Support pour les écrans pliables */
@media screen and (min-width: 600px) and (max-width: 900px) and (orientation: landscape) {
  .pwa-foldable {
    max-width: 50%;
    margin: 0 auto;
  }
}

/* Mode sombre adaptatif */
@media (prefers-color-scheme: dark) {
  .pwa-auto-dark {
    background-color: #1a1a1a;
    color: #ffffff;
  }
}

/* Optimisations de performance */
.pwa-optimized .will-change-transform {
  will-change: transform;
}

.pwa-optimized .gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* États de connexion */
.pwa-offline-mode {
  filter: grayscale(20%);
  opacity: 0.9;
}

.pwa-online-mode {
  filter: none;
  opacity: 1;
}

/* Indicateurs visuels pour PWA - tailles augmentées */
.pwa-status-indicator {
  position: fixed;
  top: var(--safe-area-inset-top, 0);
  right: 12px; /* Augmenté de 10px à 12px */
  z-index: 1000;
  padding: 6px 10px; /* Augmenté de 4px 8px à 6px 10px */
  border-radius: 14px; /* Augmenté de 12px à 14px */
  font-size: 11px; /* Augmenté de 10px à 11px */
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pwa-status-online {
  background: rgba(34, 197, 94, 0.9);
  color: white;
}

.pwa-status-offline {
  background: rgba(239, 68, 68, 0.9);
  color: white;
}
